window.addEventListener("load",function(){document.querySelectorAll("[data-stock-table-toggle]").forEach(function(t){return t.addEventListener("click",function(a){var e=document.querySelector("[data-stock-table-wrapper]"),o=document.querySelector("[data-stock-arrow]");return!(!e&&!o)&&(a.preventDefault(),[t,e,o].forEach(function(t){t!==o?t.classList.toggle("expanded"):t===o&&t.classList.toggle("up-arrow")}),t.setAttribute("aria-expanded",t.classList.contains("expanded")?"true":"false"),e.setAttribute("aria-visible",e.classList.contains("expanded")?"true":"false"),!1)})})}),function(t){function a(a,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t("[data-stock-table]"),r=JSON.parse(t("[data-all-variations-stock]").attr("data-all-variations-stock"));t.each(e,function(a,e){t.each(e,function(e,c){o&&r&&"high"!=r[o.variation_id][a][e]&&"showroom"==e&&t.each(r,function(e,o){t.each(o,function(o,n){t.each(n,function(t,n){"high"==r[e][o][t]&&o==a&&"showroom"==t&&(c="high",c+=" stock-level--asterisk")})})}),t('[data-location="'+a+'"][data-type="'+e+'"] > span').attr("class","stock-level stock-level--"+c).attr("title",n.attr("data-label-"+c)).find("> .description").text(n.attr("data-label-"+c))})})}t(document).on("show_variation",".single_variation_wrap",function(e,o){var n=t(this).closest(".product-summary").find("> .product_meta");n.length||(n=t(this).closest(".product__summary").find(".product_meta")),a(n,o.stock_levels,o)}).on("hide_variation, reset_data",function(e){var o=t(e.target).closest(".product-summary").find("> .product_meta");o.length||(o=t(e.target).closest(".product__summary").find(".product_meta")),a(o,t("[data-stock-table]",o).data("stock-table"),"")})}(jQuery);